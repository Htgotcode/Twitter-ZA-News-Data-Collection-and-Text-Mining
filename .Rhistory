library(tidyr)
library(dplyr)
library(tidytext)
library(stringr)
library(scales)
library(readr)
library(lubridate)
library(vader)
library(topicmodels)
library(quanteda)
library(zoo)
#sentiment
ggplot(data=media_vader_df, aes(x=created_at, fill = screen_name)) +
geom_smooth(media_vader_df %>% filter(screen_name == "News24"), mapping =  aes(y = mean(compound)))+
geom_smooth(media_vader_df %>% filter(screen_name == "ewnupdates"), mapping =  aes(y = compound))+
geom_smooth(media_vader_df %>% filter(screen_name == "eNCA"), mapping =  aes(y = compound))+
geom_smooth(media_vader_df %>% filter(screen_name == "SABCNews"), mapping =  aes(y = compound))+
geom_smooth(media_vader_df %>% filter(screen_name == "TimesLIVE"), mapping =  aes(y = compound))+
theme_minimal()+
scale_y_continuous(expand = c(0,0), breaks = c(-0.1, 0))
#sentiment
ggplot(data=media_vader_df, aes(x=created_at, y=rollmean(compound, 30,  na.pad=TRUE))) +
geom_line(color="pink", size=.5)+
geom_smooth() +
theme_minimal()+
facet_wrap(~screen_name) +
scale_y_continuous(expand = c(0,0), breaks = c(-0.4,-0.2,0,0.2,0.4)) +
ylim(c(-0.4, 0.4))
#sentiment
ggplot(data=media_vader_df, aes(x=created_at, y=compound)) +
geom_line(color="pink", size=.5)+
geom_smooth() +
theme_minimal()+
facet_wrap(~screen_name) +
scale_y_continuous(expand = c(0,0), breaks = c(-0.4,-0.2,0,0.2,0.4)) +
ylim(c(-0.4, 0.4))
rollmean(
#sentiment
ggplot(data=media_vader_df, aes(x=created_at, y=rollmean(compound, 30,  na.pad=TRUE))) +
geom_line(color="pink", size=.5)+
geom_smooth() +
theme_minimal()+
facet_wrap(~screen_name) +
scale_y_continuous(expand = c(0,0), breaks = c(-0.4,-0.2,0,0.2,0.4)) +
ylim(c(-0.4, 0.4))
#sentiment
ggplot(data=media_vader_df, aes(x=created_at, y=rollmean(compound, 30,  na.pad=TRUE))) +
#sentiment
ggplot(data=media_vader_df, aes(x=created_at, y=rollmean(compound, 30,  na.pad=TRUE))) +
geom_line(color="pink", size=.5)+
geom_smooth() +
theme_minimal()+
facet_wrap(~screen_name) +
scale_y_continuous(expand = c(0,0), breaks = c(-0.4,-0.2,0,0.2,0.4)) +
ylim(c(-0.4, 0.4))
#sentiment
ggplot(data=media_vader_df, aes(x=created_at, , y=rollmean(compound, 30,  na.pad=TRUE) fill = screen_name)) +
#sentiment
ggplot(data=media_vader_df, aes(x=created_at, y=rollmean(compound, 30,  na.pad=TRUE), fill = screen_name)) +
geom_smooth(media_vader_df %>% filter(screen_name == "News24"))+
geom_smooth(media_vader_df %>% filter(screen_name == "ewnupdates"))+
geom_smooth(media_vader_df %>% filter(screen_name == "eNCA"))+
geom_smooth(media_vader_df %>% filter(screen_name == "SABCNews"))+
geom_smooth(media_vader_df %>% filter(screen_name == "TimesLIVE"))+
theme_minimal()+
scale_y_continuous(expand = c(0,0), breaks = c(-0.1, 0))
#sentiment
ggplot(data=media_vader_df, aes(x=created_at, y=rollmean(compound, 30,  na.pad=TRUE), fill = screen_name)) +
geom_smooth(media_vader_df %>% filter(screen_name == "News24"))+
geom_smooth(media_vader_df %>% filter(screen_name == "ewnupdates"))+
geom_smooth(media_vader_df %>% filter(screen_name == "eNCA"))+
geom_smooth(media_vader_df %>% filter(screen_name == "SABCNews"))+
geom_smooth(media_vader_df %>% filter(screen_name == "TimesLIVE"))+
theme_minimal()+
scale_y_continuous(expand = c(0,0), breaks = c(-0.1, 0))
#sentiment
ggplot(data=media_vader_df, mapping = aes(x=created_at, y=rollmean(compound, 30,  na.pad=TRUE), fill = screen_name)) +
geom_smooth(media_vader_df %>% filter(screen_name == "News24"))+
geom_smooth(media_vader_df %>% filter(screen_name == "ewnupdates"))+
geom_smooth(media_vader_df %>% filter(screen_name == "eNCA"))+
geom_smooth(media_vader_df %>% filter(screen_name == "SABCNews"))+
geom_smooth(media_vader_df %>% filter(screen_name == "TimesLIVE"))+
theme_minimal()+
scale_y_continuous(expand = c(0,0), breaks = c(-0.1, 0))
#sentiment
ggplot(data=media_vader_df, mapping = aes(x=created_at, y=rollmean(compound, 30,  na.pad=TRUE), fill = screen_name)) +
geom_line(color="pink", size=.5)+
geom_smooth(media_vader_df %>% filter(screen_name == "News24"))+
geom_smooth(media_vader_df %>% filter(screen_name == "ewnupdates"))+
geom_smooth(media_vader_df %>% filter(screen_name == "eNCA"))+
geom_smooth(media_vader_df %>% filter(screen_name == "SABCNews"))+
geom_smooth(media_vader_df %>% filter(screen_name == "TimesLIVE"))+
theme_minimal()+
scale_y_continuous(expand = c(0,0), breaks = c(-0.1, 0))
#sentiment
ggplot(data=media_vader_df, aes(x=created_at, fill = screen_name)) +
geom_smooth(media_vader_df %>% filter(screen_name == "News24"), mapping =  aes(y = mean(compound)))+
geom_smooth(media_vader_df %>% filter(screen_name == "ewnupdates"), mapping =  aes(y = compound))+
geom_smooth(media_vader_df %>% filter(screen_name == "eNCA"), mapping =  aes(y = compound))+
geom_smooth(media_vader_df %>% filter(screen_name == "SABCNews"), mapping =  aes(y = compound))+
geom_smooth(media_vader_df %>% filter(screen_name == "TimesLIVE"), mapping =  aes(y = compound))+
theme_minimal()+
scale_y_continuous(expand = c(0,0), breaks = c(-0.1, 0))
#sentiment
ggplot(data=media_vader_df, aes(x=created_at, y=rollmean(compound, 30,  na.pad=TRUE))) +
geom_line(color="pink", size=.5)+
geom_smooth() +
theme_minimal()+
facet_wrap(~screen_name) +
scale_y_continuous(expand = c(0,0), breaks = c(-0.4,-0.2,0,0.2,0.4)) +
ylim(c(-0.4, 0.4))
#sentiment
ggplot(data=media_vader_df, aes(x=created_at, fill = screen_name)) +
geom_smooth(media_vader_df %>% filter(screen_name == "News24"), mapping =  aes(y = mean(compound)), formula = 'y ~ s(x, bs = "cs")')+
geom_smooth(media_vader_df %>% filter(screen_name == "ewnupdates"), mapping =  aes(y = compound), formula = 'y ~ s(x, bs = "cs")')+
geom_smooth(media_vader_df %>% filter(screen_name == "eNCA"), mapping =  aes(y = compound), formula = 'y ~ s(x, bs = "cs")')+
geom_smooth(media_vader_df %>% filter(screen_name == "SABCNews"), mapping =  aes(y = compound), formula = 'y ~ s(x, bs = "cs")')+
geom_smooth(media_vader_df %>% filter(screen_name == "TimesLIVE"), mapping =  aes(y = compound), formula = 'y ~ s(x, bs = "cs")')+
theme_minimal()+
scale_y_continuous(expand = c(0,0), breaks = c(-0.1, 0))
#sentiment
ggplot(data=media_vader_df, aes(x=created_at, fill = screen_name)) +
geom_smooth(media_vader_df %>% filter(screen_name == "News24"), mapping =  aes(y = mean(compound)), formula = 'y ~ s(x, bs = cs)')+
geom_smooth(media_vader_df %>% filter(screen_name == "ewnupdates"), mapping =  aes(y = compound), formula = 'y ~ s(x, bs = cs)')+
geom_smooth(media_vader_df %>% filter(screen_name == "eNCA"), mapping =  aes(y = compound), formula = 'y ~ s(x, bs = cs)')+
geom_smooth(media_vader_df %>% filter(screen_name == "SABCNews"), mapping =  aes(y = compound), formula = 'y ~ s(x, bs = cs)')+
geom_smooth(media_vader_df %>% filter(screen_name == "TimesLIVE"), mapping =  aes(y = compound), formula = 'y ~ s(x, bs = cs)')+
theme_minimal()+
scale_y_continuous(expand = c(0,0), breaks = c(-0.1, 0))
#sentiment
ggplot(data=media_vader_df, aes(x=created_at, fill = screen_name)) +
geom_smooth(media_vader_df %>% filter(screen_name == "News24"), mapping =  aes(y = mean(compound)))+
geom_smooth(media_vader_df %>% filter(screen_name == "ewnupdates"), mapping =  aes(y = compound))+
geom_smooth(media_vader_df %>% filter(screen_name == "eNCA"), mapping =  aes(y = compound))+
geom_smooth(media_vader_df %>% filter(screen_name == "SABCNews"), mapping =  aes(y = compound))+
geom_smooth(media_vader_df %>% filter(screen_name == "TimesLIVE"), mapping =  aes(y = compound))+
theme_minimal()+
scale_y_continuous(expand = c(0,0), breaks = c(-0.1, 0))
#sentiment
ggplot(data=media_vader_df, aes(x=created_at, fill = screen_name)) +
geom_smooth(media_vader_df %>% filter(screen_name == "News24"), mapping =  aes(y = mean(compound)), method = 'gam', formula = 'y ~ s(x, bs = "cs")')+
geom_smooth(media_vader_df %>% filter(screen_name == "ewnupdates"), mapping =  aes(y = compound), method = 'gam',formula = 'y ~ s(x, bs = "cs")')+
geom_smooth(media_vader_df %>% filter(screen_name == "eNCA"), mapping =  aes(y = compound), method = 'gam',formula = 'y ~ s(x, bs = "cs")')+
geom_smooth(media_vader_df %>% filter(screen_name == "SABCNews"), mapping =  aes(y = compound), method = 'gam',formula = 'y ~ s(x, bs = "cs")')+
geom_smooth(media_vader_df %>% filter(screen_name == "TimesLIVE"), mapping =  aes(y = compound), method = 'gam',formula = 'y ~ s(x, bs = "cs")')+
theme_minimal()+
scale_y_continuous(expand = c(0,0), breaks = c(-0.1, 0))
?geom_smooth
#sentiment
ggplot(data=media_vader_df, aes(x=created_at, fill = screen_name)) +
stat_smooth(media_vader_df %>% filter(screen_name == "News24"), mapping =  aes(y = mean(compound)), method = 'gam', formula = 'y ~ s(x, bs = "cs")')+
stat_smooth(media_vader_df %>% filter(screen_name == "ewnupdates"), mapping =  aes(y = compound), method = 'gam',formula = 'y ~ s(x, bs = "cs")')+
stat_smooth(media_vader_df %>% filter(screen_name == "eNCA"), mapping =  aes(y = compound), method = 'gam',formula = 'y ~ s(x, bs = "cs")')+
stat_smooth(media_vader_df %>% filter(screen_name == "SABCNews"), mapping =  aes(y = compound), method = 'gam',formula = 'y ~ s(x, bs = "cs")')+
stat_smooth(media_vader_df %>% filter(screen_name == "TimesLIVE"), mapping =  aes(y = compound), method = 'gam',formula = 'y ~ s(x, bs = "cs")')+
theme_minimal()+
scale_y_continuous(expand = c(0,0), breaks = c(-0.1, 0))
#sentiment
ggplot(data=media_vader_df, aes(x=created_at, fill = screen_name)) +
stat_smooth(media_vader_df %>% filter(screen_name == "News24"), mapping =  aes(y = mean(compound)))+
stat_smooth(media_vader_df %>% filter(screen_name == "ewnupdates"), mapping =  aes(y = compound))+
stat_smooth(media_vader_df %>% filter(screen_name == "eNCA"), mapping =  aes(y = compound))+
stat_smooth(media_vader_df %>% filter(screen_name == "SABCNews"), mapping =  aes(y = compound))+
stat_smooth(media_vader_df %>% filter(screen_name == "TimesLIVE"), mapping =  aes(y = compound))+
theme_minimal()+
scale_y_continuous(expand = c(0,0), breaks = c(-0.1, 0))
ggplot(data=media_vader_df, aes(x=created_at, colour = screen_name)) +
geom_line(media_vader_df %>% filter(screen_name == "News24"), mapping =  aes(y = (compound, k = 30, na.pad = TRUE)))+
ggplot(data=media_vader_df, aes(x=created_at, colour = screen_name)) +
geom_line(media_vader_df %>% filter(screen_name == "News24"), mapping =  aes(y = rollmean(compound, k = 30, na.pad = TRUE)))+
geom_line(media_vader_df %>% filter(screen_name == "ewnupdates"), mapping = aes(y = rollmean(compound, k = 30, na.pad = TRUE)))+
geom_line(media_vader_df %>% filter(screen_name == "eNCA"), mapping = aes(y = rollmean(compound, k = 30, na.pad = TRUE)))+
geom_line(media_vader_df %>% filter(screen_name == "SABCNews"), mapping = aes(y = rollmean(compound, k = 30, na.pad = TRUE)))+
geom_line(media_vader_df %>% filter(screen_name == "TimesLIVE"), mapping = aes(y = rollmean(compound, k = 30, na.pad = TRUE)))+
theme_minimal()+
scale_y_continuous(expand = c(0,0))
covid_dictionary <- c("herd", "immunity", "incubation", "job", "loss", "Kits", "lockdown", "mask", "N95", "outbreak", "pandemic", "quarantine", "recovery", "sanitiser", "transmission", "Underlying", "conditions", "Ventilators", "WHO", "xenophobia", "youTube", "zoonotic", "stay-at-home", "covid", "coronavirus", "hyrdoxychloroquine", "asymptomatic", "frontline", "virus", "self-isolation", "disinfectant", "shelter-in-place", "masks", "SARS-CoV-2", "ICU", "corona", "reopen", "distancing", "covering", "furlough", "tracer", "easing", "remdesivir", "mail-in", "hornet", "antibody", "in-person", "defund", "racism", "looting", "loot", "reopen", "two-metre", "pandemic", "looter", "distancing", "dexamethasone", "racial", "vaccine")
#JUST tidy
media_agency_df <- media_agency_df %>%
mutate(text = gsub(" ?(f|ht)tp(s?)://(.*)[.][a-z]+", "", text),
text = gsub("&amp", "", text),
text = gsub("(RT|via)((?:\\b\\W*@\\w+)+)", "", text),
text = gsub("@\\w+", "", text),
text = gsub("[[:punct:]]", "", text),
text = gsub("[[:digit:]]", "", text),
text = gsub("http\\w+", "", text),
text = gsub("[ \t]{2,}", "", text),
text = gsub("^\\s+|\\s+$", "", text),
text = gsub("enca", "", text),
text = gsub("dstv", "", text),
text = gsub("sabcnews", "", text),
text = gsub("&amp", "", text)) %>%
mutate(text = str_replace_all(text," "," "),
text = str_replace_all(text,"RT @[a-z,A-Z]*: "," "),
text = str_replace_all(text,"#[a-z,A-Z]*"," "),
text = str_replace_all(text,"@[a-z,A-Z]*"," "))
#tidy df and unnest
tidy_covid_media_df <- media_agency_df %>%
filter(str_detect(text, fixed(covid_dictionary, ignore_case = TRUE))) %>%
filter(!str_detect(text, "^RT")) %>%
mutate(text = gsub(" ?(f|ht)tp(s?)://(.*)[.][a-z]+", "", text)) %>%
unnest_tokens(word, text, token = "tweets") %>%
filter(!word %in% stop_words$word,
!word %in% str_remove_all(stop_words$word, "'"),
str_detect(word, "[a-z]"),
!(word =="sabcnews" |
word =="enca" |
word =="https" |
word =="dstv" |
word =="sabckzn" |
word =="anc" |
word =="south" |
word =="africa" |
word =="dstv403" |
word =="t.co" |
word =="itus" |
word =="rt" |
word =="amp"))
vader_df <- vader_df(media_agency_df$text)
write_as_csv(vader_df, "data_in/vader_covid_df")
vader_covid_df <- read_csv("data_in/vader_covid_df.csv")
media_vader_df %>%
ggplot() +
geom_line(aes(created_at, favorite_count + retweet_count)) +
facet_wrap(~screen_name)
media_vader_df %>%
ggplot() +
geom_area(aes(created_at, favorite_count + retweet_count)) +
facet_wrap(~screen_name)
media_vader_df %>%
ggplot(aes(created_at, favorite_count + retweet_count)) +
geom_area(aes(fill = screen_name)) +
geom_line() +
facet_wrap(~screen_name)
media_vader_df %>%
ggplot(aes(created_at, favorite_count + retweet_count)) +
geom_area(aes(fill = screen_name)) +
geom_line(aes(colour = screen_name)) +
facet_wrap(~screen_name)
media_vader_df %>%
ggplot(aes(created_at, favorite_count + retweet_count)) +
geom_area(aes(fill = screen_name)) +
geom_line(aes(colour = screen_name))
media_vader_df %>%
ggplot(aes(created_at, favorite_count + retweet_count)) +
geom_area(aes(fill = screen_name))
media_vader_df %>%
ggplot(aes(created_at, favorite_count + retweet_count)) +
geom_area(aes(fill = screen_name)) +
ylim(c(0, 3000))
media_vader_df %>%
ggplot(aes(created_at, favorite_count + retweet_count)) +
geom_area(aes(fill = screen_name)) +
ylim(c(0, 2200))
media_vader_df %>%
ggplot(aes(created_at, mean(favorite_count + retweet_count))) +
geom_area(aes(fill = screen_name)) +
ylim(c(0, 2200))
media_vader_df %>%
ggplot(aes(created_at, rollmean(favorite_count + retweet_count, k = 7, na.pad = TRUE))) +
geom_area(aes(fill = screen_name)) +
ylim(c(0, 2200))
media_vader_df %>%
ggplot(aes(created_at, rollmean(favorite_count + retweet_count, k = 800, na.pad = TRUE))) +
geom_area(aes(fill = screen_name)) +
ylim(c(0, 2200))
media_vader_df %>%
ggplot(aes(created_at, rollmean(favorite_count + retweet_count, k = 800, na.pad = TRUE))) +
geom_area() +
ylim(c(0, 2200))
media_vader_df %>%
ggplot(aes(created_at, rollmean(favorite_count + retweet_count, k = 0, na.pad = TRUE))) +
geom_area() +
ylim(c(0, 2200))
media_vader_df %>%
ggplot(aes(created_at, favorite_count + retweet_count)) +
geom_area() +
ylim(c(0, 2200))
media_vader_df %>%
filter(screen_name == "SABCNews") %>%
slice_max(favorite_count + retweet_count + quoted_retweet_count)
media_vader_df %>%
filter(screen_name == "SABCNews") %>%
slice_max(favorite_count + retweet_count + quoted_retweet_count)
media_vader_df %>% select(favorite_count, retweet_count) %>% mutate(favorite_count + retweet_count + quoted_retweet_count)
media_vader_df %>%
ggplot(aes(created_at, favorite_count + retweet_count+ quoted_retweet_count)) +
geom_area() +
ylim(c(0, 2200))
media_vader_df %>%
ggplot(aes(created_at, favorite_count + retweet_count)) +
geom_area() +
ylim(c(0, 2200))
media_vader_df %>%
ggplot(aes(created_at, favorite_count + retweet_count)) +
geom_area(aes(fill = c("favorite_count", "retweet_count"))) +
ylim(c(0, 2200))
media_vader_df %>%
ggplot(aes(created_at, favorite_count + retweet_count)) +
geom_area() +
ylim(c(0, 2200))
media_vader_df %>%
ggplot(aes(created_at, favorite_count + retweet_count)) +
geom_area(aes(fill = c(favorite_count, retweet_count))) +
ylim(c(0, 2200))
media_vader_df %>%
ggplot(aes(created_at, favorite_count + retweet_count)) +
geom_area() +
ylim(c(0, 2200))
media_vader_df %>%
ggplot(aes(created_at, mean(favorite_count + retweet_count))) +
geom_area() +
ylim(c(0, 2200))
media_vader_df %>%
ggplot(aes(created_at, rollmean(favorite_count + retweet_count, k=7))) +
geom_area() +
ylim(c(0, 2200))
media_vader_df %>%
ggplot(aes(created_at, rollmean(favorite_count + retweet_count, k=7, na.pad = TRUE))) +
geom_area() +
ylim(c(0, 2200))
media_vader_df %>% group_by(created_at)
media_vader_df %>% group_by(created_at)
media_vader_df %>% group_by(created_at) %>%
ggplot(aes(created_at, rollmean(favorite_count + retweet_count, k=7, na.pad = TRUE))) +
geom_area() +
ylim(c(0, 2200))
media_vader_df %>% group_by(created_at) %>%
ggplot(aes(created_at, favorite_count + retweet_count)) +
geom_area() +
ylim(c(0, 2200))
media_vader_df %>% group_by(created_at) %>%
ggplot(aes(created_at, favorite_count + retweet_count)) +
geom_area()
media_vader_df %>% group_by(created_at) %>% mutate(sum = sum(favorite_count + retweet_count)) %>%
ggplot(aes(created_at, sum)) +
geom_area()
media_vader_df %>% group_by(created_at) %>% mutate(sum = sum(favorite_count + retweet_count)) %>%
ggplot(aes(created_at, sum)) +
geom_area()
media_vader_df %>% group_by(created_at) %>% mutate(sum = sum(favorite_count + retweet_count))
media_vader_df %>% group_by(created_at.day) %>% mutate(sum = sum(favorite_count + retweet_count)) %>%
ggplot(aes(created_at, sum)) +
geom_area()
type(media_vader_df$created_at)
class(media_vader_df$created_at)
media_vader_df %>% group_by(created_at$dd_mmm_yy) %>% mutate(sum = sum(favorite_count + retweet_count))
media_vader_df %>% group_by(created_at$date) %>% mutate(sum = sum(favorite_count + retweet_count))
?POSIXct
library(lubridate)
library(lubridate)
media_vader_df %>% group_by(created_at$datetime) %>% mutate(sum = sum(favorite_count + retweet_count))
media_vader_df %>% group_by(created_at$datetime[1]) %>% mutate(sum = sum(favorite_count + retweet_count))
created_at
media_vader_df$created_at
media_vader_df$created_at$datetime[1]
as.POSIXct(harMet_15Min$datetime[1],format="%Y-%m-%d")
as.POSIXct(created_at$datetime[1],format="%Y-%m-%d")
as.POSIXct(media_vader_df$created_at$datetime[1],format="%Y-%m-%d")
as.POSIXct(media_vader_df$created_at,format="%Y-%m-%d")
media_vader_df %>% group_by(as.Date(created_at)) %>% mutate(sum = sum(favorite_count + retweet_count))
as.Date(media_vader_df$created_at)
media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(sum = sum(favorite_count + retweet_count))
media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(sum = sum(favorite_count + retweet_count)) %>%
ggplot(aes(created_at, sum)) +
geom_area()
media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(sum = sum(favorite_count + retweet_count)) %>%
ggplot(aes(created_at, sum)) +
geom_line()
media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(sum = sum(favorite_count + retweet_count)) %>%
ggplot(aes(created_at, sum)) +
geom_line() +
geom_area()
media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(sum = sum(favorite_count + retweet_count)) %>%
ggplot(aes(created_at, sum)) +
geom_line() +
geom_area(fill = "blue")
media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(sum = sum(favorite_count + retweet_count)) %>%
ggplot(aes(created_at, sum)) +
geom_line() +
geom_ribbon()
media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(sum = sum(favorite_count + retweet_count)) %>%
ggplot(aes(created_at, sum)) +
geom_line() +
geom_ribbon(aes(ymin = 0, ymax = sum))
media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(sum = sum(favorite_count + retweet_count)) %>%
ggplot(aes(created_at, sum)) +
geom_line() +
geom_ribbon(aes(ymin = 0, ymax = sum, fill = screen_name))
media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(sum = sum(favorite_count + retweet_count)) %>% ungroup()
media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(sum = sum(favorite_count + retweet_count)) %>% ungroup() %>%
ggplot(aes(created_at, sum)) +
geom_line() +
geom_ribbon(aes(ymin = 0, ymax = sum, fill = screen_name))
media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(sum = sum(favorite_count + retweet_count)) %>%
ggplot(aes(created_at, sum)) +
geom_ribbon(aes(ymin = 0, ymax = sum, fill = screen_name))
library(plotly)
media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(sum = sum(favorite_count + retweet_count)) %>%
ggplot(aes(created_at, sum)) +
geom_ribbon(aes(ymin = 0, ymax = sum, fill = screen_name)) %>%
plotly()
media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(sum = sum(favorite_count + retweet_count)) %>%
ggplot(aes(created_at, sum)) +
geom_ribbon(aes(ymin = 0, ymax = sum, fill = screen_name)) %>%
plot_ly()
plot <- media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(sum = sum(favorite_count + retweet_count)) %>%
ggplot(aes(created_at, sum)) +
geom_ribbon(aes(ymin = 0, ymax = sum, fill = screen_name)) %>%
plot_ly()
plot <- media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(sum = sum(favorite_count + retweet_count)) %>%
ggplot(aes(created_at, sum)) +
geom_ribbon(aes(ymin = 0, ymax = sum, fill = screen_name))
plot_ly(ploot)
plot_ly(plot)
plot_ly(media_vader_df)
?plot_ly
plot <- media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(sum = sum(favorite_count + retweet_count)) %>%
ggplot(aes(created_at, sum)) +
geom_ribbon(aes(ymin = 0, ymax = sum, fill = screen_name)) %>%
ggplotly()
ggplotly(plot)
plot <- media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at, screen_name) %>% mutate(sum = sum(favorite_count + retweet_count)) %>% ungroup() %>%
ggplot(aes(created_at, sum)) +
geom_ribbon(aes(ymin = 0, ymax = sum, fill = screen_name))
ggplotly(plot)
plot <- media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(sum = sum(favorite_count + retweet_count)) %>% ungroup() %>%
ggplot(aes(created_at, sum)) +
geom_ribbon(aes(ymin = 0, ymax = sum, fill = screen_name))
ggplotly(plot)
plot <- media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(sum = sum(favorite_count + retweet_count)) %>% ungroup() %>%
ggplot(aes(created_at, sum)) +
geom_ribbon(aes(ymin = 0, ymax = sum, fill = c(favorite_count, retweet_count)))
ggplotly(plot)
plot <- media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(sum = sum(favorite_count + retweet_count)) %>% ungroup() %>%
ggplot(aes(created_at, sum)) +
geom_ribbon(aes(ymin = 0, ymax = sum))
ggplotly(plot)
plot <- media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at, screen_name) %>% mutate(retweet_daily = sum(retweet_count), favorite_daily = sum(favorite_count)) %>% ungroup() %>%
ggplot(aes(created_at, sum)) +
geom_ribbon(aes(ymin = 0, ymax = sum, fill = screen_name))
ggplotly(plot)
plot <- media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at, screen_name) %>% mutate(retweet_daily = sum(retweet_count), favorite_daily = sum(favorite_count)) %>% ungroup() %>%
ggplot(aes(created_at, c(retweet_daily, favorite_daily))) +
geom_ribbon(aes(ymin = 0, ymax = sum, fill = screen_name))
ggplotly(plot)
media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at, screen_name) %>% mutate(retweet_daily = sum(retweet_count), favorite_daily = sum(favorite_count)) %>% ungroup()
plot <- media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at, screen_name) %>% mutate(retweet_daily = sum(retweet_count), favorite_daily = sum(favorite_count)) %>% ungroup() %>%
ggplot(aes(created_at)) +
geom_ribbon(aes(ymin = 0, ymax = retweet_daily, fill = screen_name)) +
geom_ribbon(aes(ymin = 0, ymax = favorite_daily, fill = screen_name))
ggplotly(plot)
plot <- media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at, screen_name) %>% mutate(retweet_daily = sum(retweet_count), favorite_daily = sum(favorite_count)) %>% ungroup() %>%
ggplot(aes(created_at)) +
geom_ribbon(aes(ymin = 0, ymax = retweet_daily)) +
geom_ribbon(aes(ymin = 0, ymax = favorite_daily))
ggplotly(plot)
plot <- media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at, screen_name) %>% mutate(retweet_daily = sum(retweet_count), favorite_daily = sum(favorite_count)) %>% ungroup() %>%
ggplot(aes(created_at)) +
geom_ribbon(aes(ymin = 0, ymax = c(retweet_daily, favorite_daily)))
ggplotly(plot)
plot <- media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at, screen_name) %>% mutate(retweet_daily = sum(retweet_count), favorite_daily = sum(favorite_count)) %>% ungroup() %>%
ggplot(aes(created_at)) +
geom_ribbon(aes(ymin = 0, ymax = retweet_daily))
ggplotly(plot)
plot <- media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(sum = sum(favorite_count + retweet_count)) %>%
ggplot(aes(created_at, sum)) +
geom_ribbon(aes(ymin = 0, ymax = sum))
ggplotly(plot)
plot <- media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at, screen_name) %>% mutate(retweet_daily = sum(retweet_count), favorite_daily = sum(favorite_count), sum = favorite_count + retweet_count) %>%
ggplot(aes(created_at)) +
geom_ribbon(aes(ymin = 0, ymax = retweet_daily))
ggplotly(plot)
plot <- media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at, screen_name) %>% mutate(retweet_daily = sum(retweet_count), favorite_daily = sum(favorite_count), sum = favorite_count + retweet_count) %>%
ggplot(aes(created_at)) +
geom_ribbon(aes(ymin = 0, ymax = retweet_daily))
ggplotly(plot)
plot <- media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(retweet_daily = sum(retweet_count), favorite_daily = sum(favorite_count), sum = favorite_count + retweet_count) %>%
ggplot(aes(created_at)) +
geom_ribbon(aes(ymin = 0, ymax = retweet_daily))
ggplotly(plot)
plot <- media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(retweet_daily = sum(retweet_count), favorite_daily = sum(favorite_count), sum = favorite_count + retweet_count) %>%
ggplot(aes(created_at)) +
geom_ribbon(aes(ymin = 0, ymax = retweet_daily)) +
geom_ribbon(aes(ymin = 0, ymax = favorite_daily)) +
geom_ribbon(aes(ymin = 0, ymax = sum))
ggplotly(plot)
plot <- media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(retweet_daily = sum(retweet_count), favorite_daily = sum(favorite_count), sum = favorite_count + retweet_count) %>%
ggplot(aes(created_at)) +
geom_ribbon(aes(ymin = 0, ymax = retweet_daily), fill = "blue") +
geom_ribbon(aes(ymin = 0, ymax = favorite_daily), fill = "red") +
geom_ribbon(aes(ymin = 0, ymax = sum), fill = "pink")
ggplotly(plot)
plot <- media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(retweet_daily = sum(retweet_count), favorite_daily = sum(favorite_count), sum = favorite_count + retweet_count) %>%
ggplot(aes(created_at)) +
geom_ribbon(aes(ymin = 0, ymax = retweet_daily y = sum), fill = "blue") +
geom_ribbon(aes(ymin = 0, ymax = retweet_daily y = sum)
plot <- media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(retweet_daily = sum(retweet_count), favorite_daily = sum(favorite_count), sum = favorite_count + retweet_count) %>%
ggplot(aes(created_at)) +
geom_ribbon(aes(ymin = 0, ymax = retweet_daily y = sum))
plot <- media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(retweet_daily = sum(retweet_count), favorite_daily = sum(favorite_count), sum = favorite_count + retweet_count) %>%
ggplot(aes(created_at)) +
geom_ribbon(aes(ymin = 0, ymax = retweet_daily, y = sum))
ggplotly(plot)
plot <- media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(retweet_daily = sum(retweet_count), favorite_daily = sum(favorite_count), sum = sum(favorite_count + retweet_count)) %>%
ggplot(aes(created_at)) +
geom_ribbon(aes(ymin = 0, ymax = retweet_daily, y = sum))
ggplotly(plot)
plot <- media_vader_df %>% mutate(created_at = as.Date(created_at)) %>%  group_by(created_at) %>% mutate(retweet_daily = sum(retweet_count), favorite_daily = sum(favorite_count), sum = sum(favorite_count + retweet_count)) %>%
ggplot(aes(created_at)) +
geom_ribbon(aes(ymin = 0, ymax = retweet_daily, y = sum, fill = "blue"))
ggplotly(plot)
